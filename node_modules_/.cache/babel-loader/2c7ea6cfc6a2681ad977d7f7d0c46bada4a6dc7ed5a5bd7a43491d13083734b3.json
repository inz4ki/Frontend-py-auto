{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ModalTarefa from '../components/ModalTarefa.vue';\nimport { http } from '../service/api';\nexport default {\n  components: {\n    ModalTarefa\n  },\n  data() {\n    return {\n      tarefa: []\n    };\n  },\n  mounted() {\n    this.listarTarefas();\n  },\n  methods: {\n    listarTarefas() {\n      // pegando info das vagas da api\n      http.get(`tarefas`).then(response => {\n        this.tarefa = response.data;\n      });\n    },\n    salvarTarefa() {\n      http.post(`tarefas/salvar`, this.tempTarefa).then(response => {\n        alert(\"Tarefa Cadastrada\");\n        return this.$router.push({\n          name: 'etapas',\n          params: {\n            pk_id_tarefa: tempTarefa.pk_id_tarefa\n          }\n        });\n      }).catch(error => {\n        console.log(error.response.status);\n        if (error.response.status == 422) {\n          console.log('Não Autorizado');\n          alert('Adicione mais informações para cadastrar!');\n        } else {\n          console.log('Outros Erros Status!');\n          alert('Erro ao cadastrar!');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AACA,OAAOA,WAAU,MAAO,+BAA8B;AACtD,SAASC,IAAG,QAAS,gBAAe;AAEpC,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE;IACV;EACF,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACC,aAAa,EAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACPD,aAAa,GAAG;MACd;MACAL,IAAI,CAACO,GAAG,CAAE,SAAQ,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QACnC,IAAI,CAACN,MAAK,GAAIM,QAAQ,CAACP,IAAI;MAC7B,CAAC;IACH,CAAC;IACDQ,YAAY,GAAG;MACbV,IAAI,CAACW,IAAI,CAAE,gBAAe,EAAE,IAAI,CAACC,UAAU,CAAC,CAACJ,IAAI,CAACC,QAAO,IAAK;QAC5DI,KAAK,CAAC,mBAAmB;QACzB,OAAO,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACC,IAAI,EAAC,QAAQ;UAAEC,MAAM,EAAE;YAAEC,YAAY,EAAEN,UAAU,CAACM;UAAa;QAAC,CAAC,CAAC;MAC9F,CAAC,CAAC,CAACC,KAAK,CAACC,KAAI,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACX,QAAQ,CAACc,MAAM,CAAC;QAClC,IAAIH,KAAK,CAACX,QAAQ,CAACc,MAAK,IAAK,GAAG,EAAE;UAChCF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7BT,KAAK,CAAC,2CAA2C,CAAC;QACpD,OAAO;UACLQ,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;UACnCT,KAAK,CAAC,oBAAoB,CAAC;QAC7B;MACF,CAAC;IACH;EACF;AACF","names":["ModalTarefa","http","components","data","tarefa","mounted","listarTarefas","methods","get","then","response","salvarTarefa","post","tempTarefa","alert","$router","push","name","params","pk_id_tarefa","catch","error","console","log","status"],"sourceRoot":"","sources":["C:\\Users\\vinicius.martins\\Desktop\\pasta\\teste\\projeto-automacao\\src\\views\\HomeView.vue"],"sourcesContent":["<script>\nimport ModalTarefa from '../components/ModalTarefa.vue'\nimport { http } from '../service/api'\n\nexport default {\n  components: {\n    ModalTarefa,\n  },\n  data() {\n    return {\n      tarefa: []\n    }\n  },\n  mounted() {\n    this.listarTarefas()\n  },\n  methods: {\n    listarTarefas() {\n      // pegando info das vagas da api\n      http.get(`tarefas`).then(response => {\n        this.tarefa = response.data;\n      })\n    },\n    salvarTarefa() {\n      http.post(`tarefas/salvar`, this.tempTarefa).then(response => {\n        alert(\"Tarefa Cadastrada\")\n        return this.$router.push({name:'etapas', params: { pk_id_tarefa: tempTarefa.pk_id_tarefa }});\n      }).catch(error => {\n        console.log(error.response.status);\n        if (error.response.status == 422) {\n          console.log('Não Autorizado');\n          alert('Adicione mais informações para cadastrar!');\n        } else {\n          console.log('Outros Erros Status!');\n          alert('Erro ao cadastrar!');\n        }\n      })\n    },\n  }\n}\n</script>\n\n<template>\n  <div class=\"col-sm-8\">\n    <div class=\"\">\n      <h1>Criador de Tarefas</h1>\n      <hr>\n    </div>\n    <table class=\"table\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>Id</th>\n          <th>Nome da Tarefa</th>\n          <th>Horário</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"tarefa in  tarefa\" :key=\"tarefa.pk_id_tarefa\">\n          <th>{{ tarefa.pk_id_tarefa }}</th>\n          <td>{{ tarefa.nome_tarefa }}</td>\n          <td>{{ tarefa.data_hora_executar }}</td>\n          <td>\n            <div>\n              <Router-link class=\"\" :to=\"{ name: 'etapas', params: { pk_id_tarefa: tarefa.pk_id_tarefa } }\">\n                <button type=\"button\" class=\"btn btn-primary btn-sm\">Alterar</button>\n              </Router-link>\n\n\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <form @submit.prevent=\"salvarTarefa()\">\n      <ModalTarefa variant=\"success\"></ModalTarefa>\n    </form>\n  </div>\n\n</template>\n<style scoped>\nh1 {\n  margin-top: 15px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}