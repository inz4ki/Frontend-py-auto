{"ast":null,"code":"import ModalTarefa from '../components/ModalTarefa.vue';\nimport { http } from '../service/api';\nexport default {\n  components: {\n    ModalTarefa\n  },\n  data() {\n    return {\n      tarefa: [],\n      tempTarefa: {\n        pk_id_tarefa: -1,\n        nome: '',\n        horario: ''\n      }\n    };\n  },\n  props: ['pk_id_tarefa'],\n  mounted() {\n    this.listarTarefas();\n    console.log(this.tarefa.pk_id_tarefa);\n  },\n  methods: {\n    listarTarefas() {\n      // pegando info das vagas da api\n      http.get(`tarefas`).then(response => {\n        this.tarefa = response.data;\n        this.tempTarefa = this.tarefa;\n      });\n    },\n    teste() {\n      console.log('Funcionando top');\n    },\n    deletarTarefa(tarefa) {\n      http.delete(`tarefa/${tarefa.pk_id_tarefa}`, {\n        data: tarefa\n      }).then(response => {\n        alert(\"Tarefa excluida com sucesso\");\n        this.listarTarefas();\n        return response;\n      }).catch(error => {\n        if (error.response.status = 404) {\n          alert('Erro ao Excluir');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AACA,OAAOA,WAAU,MAAO,+BAA8B;AACtD,SAASC,IAAG,QAAS,gBAAe;AAEpC,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE;QACVC,YAAY,EAAE,CAAC,CAAC;QAChBC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE;MACX;IACF;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,cAAc,CAAC;EACvBC,OAAO,GAAG;IACR,IAAI,CAACC,aAAa,EAAC;IACnBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,MAAM,CAACE,YAAY;EACtC,CAAC;EACDQ,OAAO,EAAE;IACPH,aAAa,GAAG;MACd;MACAV,IAAI,CAACc,GAAG,CAAE,SAAQ,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QACnC,IAAI,CAACb,MAAK,GAAIa,QAAQ,CAACd,IAAI;QAC3B,IAAI,CAACE,UAAS,GAAI,IAAI,CAACD,MAAM;MAC/B,CAAC;IACH,CAAC;IACDc,KAAK,GAAG;MACNN,OAAO,CAACC,GAAG,CAAC,iBAAiB;IAC/B,CAAC;IACDM,aAAa,CAACf,MAAM,EAAE;MACpBH,IAAI,CAACmB,MAAM,CAAE,UAAShB,MAAM,CAACE,YAAa,EAAC,EAAE;QAAEH,IAAI,EAAEC;MAAO,CAAC,CAC7D,CACGY,IAAI,CAACC,QAAO,IAAK;QAChBI,KAAK,CAAC,6BAA6B,CAAC;QACpC,IAAI,CAACV,aAAa,EAAE;QACpB,OAAOM,QAAQ;MACjB,CAAC,CAAC,CAACK,KAAK,CAAEC,KAAK,IAAK;QAClB,IAAIA,KAAK,CAACN,QAAQ,CAACO,MAAK,GAAI,GAAG,EAAE;UAC/BH,KAAK,CAAC,iBAAiB,CAAC;QAC1B;MACF,CAAC;IACL;EACF;AACF","names":["ModalTarefa","http","components","data","tarefa","tempTarefa","pk_id_tarefa","nome","horario","props","mounted","listarTarefas","console","log","methods","get","then","response","teste","deletarTarefa","delete","alert","catch","error","status"],"sourceRoot":"","sources":["C:\\Users\\vinicius.martins\\Desktop\\pasta\\teste\\projeto-automacao\\src\\views\\HomeView.vue"],"sourcesContent":["<script>\nimport ModalTarefa from '../components/ModalTarefa.vue'\nimport { http } from '../service/api'\n\nexport default {\n  components: {\n    ModalTarefa,\n  },\n  data() {\n    return {\n      tarefa: [],\n      tempTarefa: {\n        pk_id_tarefa: -1,\n        nome: '',\n        horario: ''\n      }\n    }\n  },\n  props: ['pk_id_tarefa'],\n  mounted() {\n    this.listarTarefas()\n    console.log(this.tarefa.pk_id_tarefa)\n  },\n  methods: {\n    listarTarefas() {\n      // pegando info das vagas da api\n      http.get(`tarefas`).then(response => {\n        this.tarefa = response.data;\n        this.tempTarefa = this.tarefa;\n      })\n    },\n    teste() {\n      console.log('Funcionando top')\n    },\n    deletarTarefa(tarefa) {\n      http.delete(`tarefa/${tarefa.pk_id_tarefa}`, { data: tarefa },\n      )\n        .then(response => {\n          alert(\"Tarefa excluida com sucesso\");\n          this.listarTarefas();\n          return response;\n        }).catch((error) => {\n          if (error.response.status = 404) {\n            alert('Erro ao Excluir');\n          }\n        })\n    },\n  }\n}\n</script>\n\n<template>\n  <div class=\"col-sm-8\">\n    <div class=\"\">\n      <h1>Criador de Tarefas</h1>\n      <hr>\n    </div>\n    <table class=\"table\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th>Id</th>\n          <th>Nome da Tarefa</th>\n          <th>Hor√°rio</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"tarefas in  tarefa\" :key=\"tarefas.pk_id_tarefa\">\n          <th>{{ tarefas.pk_id_tarefa }}</th>\n          <td>{{ tarefas.nome_tarefa }}</td>\n          <td>{{ tarefas.data_hora_executar }}</td>\n          <td>\n\n            <Router-link class=\"\" :to=\"{ name: 'etapas', params: { pk_id_tarefa: tempTarefa.pk_id_tarefa } }\">\n              <button type=\"button\" class=\"btn btn-primary btn-sm\">Alterar</button>\n            </Router-link>\n\n            <button class=\"btn btn-danger btn-sm\" @click=\"deletarTarefa(tarefa)\">Excluir</button>\n\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <form @submit.prevent=\"teste()\">\n      <ModalTarefa variant=\"success\"></ModalTarefa>\n    </form>\n  </div>\n\n</template>\n<style scoped>\nh1 {\n  margin-top: 15px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}